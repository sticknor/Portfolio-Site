{"ast":null,"code":"// React\nimport React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PageCV(_ref){let{page,base}=_ref;const[recordsByCategory,setRecordsByCategory]=useState({});useEffect(()=>{base(\"CV\").select({view:\"Grid view\"}).firstPage(function(err,records){if(err){console.error(err);return;}const _recordsByCategory={};records.forEach(function(record){const category=record.get(\"Category\")[0];// format record\nlet show=record.get(\"Show on CV\");let title=record.get(\"Title\");let place=record.get(\"Place\");let city=record.get(\"City, State\");let dates=record.get(\"Date(s)\");let subtitle=record.get(\"Subtitle\");let description=record.get(\"Description\");let link=record.get(\"Link\");let linkTitle=record.get(\"Link Title\");let recordLine1=title;let recordLine2=[];if(place)recordLine2.push(place);if(city)recordLine2.push(city);if(dates)recordLine2.push(dates);recordLine2=recordLine2.join(\" Â· \");let formattedRecord={show:show,line1:recordLine1,line2:recordLine2,line3:subtitle,line4:description,link:{title:linkTitle,url:link}};if(_recordsByCategory[category]===undefined){_recordsByCategory[category]=[formattedRecord];}else{_recordsByCategory[category]=_recordsByCategory[category].concat([formattedRecord]);}});setRecordsByCategory(_recordsByCategory);});},[page.pageTitle]);if(recordsByCategory===undefined)return null;return/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"64px\"},children:/*#__PURE__*/_jsx(\"div\",{style:{padding:\"64px\"},className:\"mobilePadding\",children:Object.keys(recordsByCategory).map((category,index)=>{return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"64px\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,marginBottom:\"32px\"},children:category}),recordsByCategory[category].map((record,index)=>{if(record.show){return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"16px\"},children:[/*#__PURE__*/_jsx(\"div\",{children:record.line1}),/*#__PURE__*/_jsx(\"div\",{style:{opacity:0.5},children:record.line2}),/*#__PURE__*/_jsx(\"div\",{style:{opacity:0.5},children:record.line3}),/*#__PURE__*/_jsx(\"div\",{style:{opacity:0.5},children:record.line4}),/*#__PURE__*/_jsx(\"a\",{style:{opacity:0.5},target:\"_blank\",href:record.link.url,children:record.link.title})]});}})]},`${category}_${index}`);})})});}export default PageCV;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}