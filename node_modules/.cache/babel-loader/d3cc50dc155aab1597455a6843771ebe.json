{"ast":null,"code":"import _slicedToArray from \"/Users/samticknor/Portfolio-Site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/samticknor/Portfolio-Site/src/components/modules/useWork.js\";\nimport React, { useState, useEffect } from 'react';\nvar formatWorkInfoLine = function formatWorkInfoLine(work) {\n  var dimensionsString = undefined;\n  if (work.width && work.height && work.depth) dimensionsString = \"\".concat(work.width, \"\\\" \\xD7 \").concat(work.height, \" \\xD7 \").concat(work.depth, \"\\\"\");else if (work.width && work.height) dimensionsString = \"\".concat(work.width, \"\\\" \\xD7 \").concat(work.height, \"\\\"\");\n  var details = [work.title, work.year, work.medium, dimensionsString];\n  details = details.filter(function (element) {\n    return element !== undefined;\n  });\n  var detailsLine = [];\n  for (var i = 0; i < details.length; i++) {\n    if (i === 0) {\n      detailsLine.push( /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 30\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 35\n        }\n      }, details[i])));\n    } else {\n      detailsLine.push( /*#__PURE__*/React.createElement(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 30\n        }\n      }, details[i]));\n      if (i !== details.length - 1) {\n        detailsLine.push( /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 18,\n            columnNumber: 34\n          }\n        }, ' · ', \" \"));\n      }\n    }\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"workText\",\n    style: {\n      textAlign: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, detailsLine.map(function (i) {\n    return i;\n  }));\n};\nvar useSingleWorkFromModule = function useSingleWorkFromModule(module, base) {\n  if (!module.moduleWorks) return undefined;\n  var workID = module.moduleWorks.length > 0 ? module.moduleWorks[0] : undefined;\n  var _useWork = useWork(workID, base),\n    _useWork2 = _slicedToArray(_useWork, 1),\n    work = _useWork2[0];\n  return [work];\n};\nvar useAllWorksFromModule = function useAllWorksFromModule(module, base) {\n  if (!module.moduleWorks) return undefined;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    works = _useState2[0],\n    setWorks = _useState2[1];\n  useEffect(function () {\n    var filterByFormula = \"OR(\" + module.moduleWorks.map(function (id) {\n      return \"RECORD_ID() = '\".concat(id, \"'\");\n    }).join(\",\") + \")\";\n    base('Works').select({\n      filterByFormula: filterByFormula\n    }).eachPage(function (records) {\n      setWorks(works.concat(records.map(getValuesFromRecord)));\n    }, function (err) {\n      console.log(err);\n    });\n  }, [module]);\n  return [works];\n};\nvar useWork = function useWork(recordId, base) {\n  var _useState3 = useState(undefined),\n    _useState4 = _slicedToArray(_useState3, 2),\n    work = _useState4[0],\n    setWork = _useState4[1];\n  useEffect(function () {\n    base('Works').find(recordId, function (err, record) {\n      if (err) {\n        console.error(err);\n        return;\n      }\n      setWork(getValuesFromRecord(record));\n    });\n  }, [recordId]);\n  return [work];\n};\nvar getValuesFromRecord = function getValuesFromRecord(record) {\n  var workImages = record.get('Work');\n  return {\n    url: workImages && workImages.length > 0 ? workImages[0].url : undefined,\n    title: record.get('Title'),\n    year: record.get('Year'),\n    medium: record.get('Medium'),\n    width: record.get('Width'),\n    height: record.get('Height'),\n    depth: record.get('Depth'),\n    description: record.get('Description'),\n    price: record.get('Price')\n  };\n};\nexport { useWork, useSingleWorkFromModule, useAllWorksFromModule, formatWorkInfoLine };","map":{"version":3,"names":["React","useState","useEffect","formatWorkInfoLine","work","dimensionsString","undefined","width","height","depth","concat","details","title","year","medium","filter","element","detailsLine","i","length","push","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","style","textAlign","map","useSingleWorkFromModule","module","base","moduleWorks","workID","_useWork","useWork","_useWork2","_slicedToArray","useAllWorksFromModule","_useState","_useState2","works","setWorks","filterByFormula","id","join","select","eachPage","records","getValuesFromRecord","err","console","log","recordId","_useState3","_useState4","setWork","find","record","error","workImages","get","url","description","price"],"sources":["/Users/samticknor/Portfolio-Site/src/components/modules/useWork.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst formatWorkInfoLine = (work) => {\n    var dimensionsString = undefined;\n    if (work.width && work.height && work.depth) dimensionsString = `${work.width}\" × ${work.height} × ${work.depth}\"`;\n    else if (work.width && work.height) dimensionsString = `${work.width}\" × ${work.height}\"`;\n\n    var details = [work.title, work.year, work.medium, dimensionsString];\n    details = details.filter((element) => { return element !== undefined })\n    var detailsLine = [];\n\n    for (var i = 0; i < details.length; i++) {\n        if (i === 0) {\n            detailsLine.push(<div><i>{details[i]}</i></div>)\n        } else {\n            detailsLine.push(<span>{details[i]}</span>)\n            if (i !== details.length - 1) {\n                detailsLine.push(<span>{' · '} </span>)\n            }\n        }\n\n    }\n    return (\n        <div className=\"workText\" style={{ textAlign: 'center' }}>\n            {detailsLine.map((i) => { return i; })}\n        </div>\n    )\n}\n\nconst useSingleWorkFromModule = (module, base) => {\n    if (!module.moduleWorks) return undefined;\n    const workID = module.moduleWorks.length > 0 ? module.moduleWorks[0] : undefined;\n    const [work] = useWork(workID, base);\n    return [work];\n}\n\nconst useAllWorksFromModule = (module, base) => {\n    if (!module.moduleWorks) return undefined;\n\n    const [works, setWorks] = useState([]);\n\n    useEffect(() => {\n        const filterByFormula = \"OR(\" + module.moduleWorks.map(id => `RECORD_ID() = '${id}'`).join(\",\") + \")\";\n        base('Works').select({ filterByFormula }).eachPage((records) => {\n            setWorks(works.concat(records.map(getValuesFromRecord)))\n        }, (err) => { console.log(err) })\n\n    }, [module])\n    return [works];\n}\n\nconst useWork = (recordId, base) => {\n    const [work, setWork] = useState(undefined);\n\n    useEffect(() => {\n        base('Works').find(recordId, function (err, record) {\n            if (err) { console.error(err); return; }\n            setWork(getValuesFromRecord(record));\n        });\n    }, [recordId]);\n\n    return [work];\n}\n\nconst getValuesFromRecord = (record) => {\n    const workImages = record.get('Work');\n    return {\n        url: workImages && workImages.length > 0 ? workImages[0].url : undefined,\n        title: record.get('Title'),\n        year: record.get('Year'),\n        medium: record.get('Medium'),\n        width: record.get('Width'),\n        height: record.get('Height'),\n        depth: record.get('Depth'),\n        description: record.get('Description'),\n        price: record.get('Price')\n    }\n}\n\nexport { useWork, useSingleWorkFromModule, useAllWorksFromModule, formatWorkInfoLine };\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}