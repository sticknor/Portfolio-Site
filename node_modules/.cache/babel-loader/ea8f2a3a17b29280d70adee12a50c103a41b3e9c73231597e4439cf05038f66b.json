{"ast":null,"code":"// React\nimport React,{useState,useEffect}from\"react\";import{ImageFullModule,ImageThreeQuarterModule,ImageHalfModule}from\"./modules/ImageOnlyModules\";import{ImageWithTextModule,TextWithImageModule,TextModule,LinkModule}from\"./modules/ImageAndTextModules\";import CarouselModule from\"./modules/CarouselModule\";import{CascadeLeftModule,CascadeRightModule}from\"./modules/CascadeModules\";import{GridModule}from\"./modules/GridModules\";import{VideoModule}from\"./modules/VideoModules\";import{jsx as _jsx}from\"react/jsx-runtime\";function PageInstallation(_ref){let{page,base,allWorksById}=_ref;const[modules,setModules]=useState([]);useEffect(()=>{if(Object.keys(allWorksById).length===0){//loading\n}else{setModules([]);base(page.tableName).select({view:\"Grid view\"}).firstPage(function(err,records){if(err){console.error(err);return;}const _modules=[];records.forEach(function(record){let _moduleWorks=record.get(\"Module Work(s)\");_modules.push({moduleType:record.get(\"Module Type\"),moduleWorks:_moduleWorks===undefined?[]:_moduleWorks.map(workId=>{return allWorksById[workId];}),moduleTitle:record.get(\"Module Title\"),moduleText:record.get(\"Module Text\"),showWorkTitlesWithinModule:record.get(\"Show Work Titles Within Module\")});});setModules(_modules);});}},[allWorksById]);return/*#__PURE__*/_jsx(\"div\",{id:\"scrollContent\",style:{width:\"100%\",marginTop:\"64px\",paddingTop:\"64px\",backgroundColor:\"#fff\"},children:modules.map((module,index)=>{if(module.moduleType===\"Image Full\"){return/*#__PURE__*/_jsx(ImageFullModule,{module:module,base:base},module.moduleTitle);}else if(module.moduleType===\"Image Three Quarter\"){return/*#__PURE__*/_jsx(ImageThreeQuarterModule,{module:module,base:base},module.moduleTitle);}else if(module.moduleType===\"Image Half\"){return/*#__PURE__*/_jsx(ImageHalfModule,{module:module,base:base},module.moduleTitle);}else if(module.moduleType===\"Carousel\"){return/*#__PURE__*/_jsx(CarouselModule,{module:module,base:base},module.moduleTitle);}else if(module.moduleType===\"Image With Text\"){return/*#__PURE__*/_jsx(ImageWithTextModule,{module:module,base:base},module.moduleTitle);}else if(module.moduleType===\"Text With Image\"){return/*#__PURE__*/_jsx(TextWithImageModule,{module:module,base:base},module.moduleTitle);}else if(module.moduleType===\"Text\"){return/*#__PURE__*/_jsx(TextModule,{module:module,base:base},module.moduleTitle);}else if(module.moduleType===\"Link\"){return/*#__PURE__*/_jsx(LinkModule,{module:module,base:base},module.moduleTitle);}else if(module.moduleType===\"Cascade Left\"){return/*#__PURE__*/_jsx(CascadeLeftModule,{module:module,base:base},module.moduleTitle);}else if(module.moduleType===\"Cascade Right\"){return/*#__PURE__*/_jsx(CascadeRightModule,{module:module,base:base},module.moduleTitle);}else if(module.moduleType===\"Video\"){return/*#__PURE__*/_jsx(VideoModule,{module:module,base:base},module.moduleTitle);}else if(module.moduleType===\"Grid\"){return/*#__PURE__*/_jsx(GridModule,{module:module,base:base},module.moduleTitle);}return null;})});}export default PageInstallation;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}